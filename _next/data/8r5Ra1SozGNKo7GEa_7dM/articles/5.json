{"pageProps":{"issue":{"body":"Ethereum の アカウントという概念について，きちんと理解できていなかったので整理した．\r\n\r\n## Ethereumにおけるアカウントとは\r\n> イーサリアムアカウントは、イーサリアム上でトランザクションを送信できるイーサ（ETH）残高を持つエンティティである。アカウントは、ユーザーが管理することも、スマートコントラクトとして展開することもできる。\r\n> [Ethereum accounts | ethereum.org](https://ethereum.org/ja/developers/docs/accounts/#contract-accounts)\r\n\r\n- つまり，アカウント = ETHが保管される場所\r\n  - アカウントとアカウント残高は，EVMの大きなテーブルに格納されていて，[EVM]全体の状態の一部として管理されている\r\n\r\n## ２種類のアカウントが存在\r\n- EOA（Externally Owned Account: [外部所有アカウント]）\r\n  - 秘密鍵を持っている人なら誰でもコントロールが可能\r\n- コントラクトアカウント（CA）\r\n  - Ethereum ネットワークに展開されたスマートコントラクトで、コードによってコントロールされる\r\n\r\n- いずれのアカウントも以下の機能を備えている\r\n  - [ETH]と[トークン]の受信、保有、送信\r\n  - デプロイされた[スマートコントラクト]と対話する\r\n- 2つのアカウントの重要な違い\r\n\r\n| | EOA | コントラクトアカウント|\r\n|--|--|--|\r\n|作成コスト|かからない|かかる（ネットワークのストレージを使用するため）|\r\n|Txの送信|起点となる|Tx の受信に応答してのみ Tx を送信できる|\r\n|EOAからのTx|\tEOA間はETH or トークンのみ可能|EOAからのTxはトークンの転送やコントラクトの作成等,多くのアクションを実行できる\r\n|対応する秘密鍵|持つ|持たない|\r\n\r\n## Ethereum におけるアカウントを理解する上で、重要な３つのキーワード\r\n- アカウント\r\n  - トランザクションを送り、残高があるエンティティ\r\n- アドレス\r\n  - アカウント]は「0x」から始まるアドレスをもつ\r\n  - このアドレスを使用してアカウントに資金を送金する\r\n- ウォレット\r\n  - アカウント残高の確認、トランザクションの送信等、Ethereumのアカウントを管理できるインターフェイスあるいはアプリケーション\r\n  - MetaMaskなど\r\n\r\n- アカウントはウォレットの実態のような認識だとイメージしやすい\r\n\r\n## アカウントは4つのフィールドをもつ\r\n<img src='https://ethereum.org/static/19443ab40f108c985fb95b07bac29bcb/302a4/accounts.png'/>\r\n\r\nhttps://ethereum.org/ja/developers/docs/accounts\r\n\r\n- nonce\r\n  - アカウントから実行されたトランザクションの総数，カウンター\r\n  - トランザクションが一度だけ処理されることを保証するもの（リプレイ攻撃を防ぐ）\r\n  - コントラクトアカウントの場合、この数値はそのアカウントで作成されたコントラクトの数を表す\r\n- balance\r\n  - 所有するweiの数\r\n  - Wei は ETH の最小単位であり、1 ETH = 10^18 Wei\r\n- codeHash\r\n  - EVMコードのハッシュ値\r\n  - コントラクトアカウントは、異なる操作を実行できるコードフラグメントがプログラムされている\r\n     - このEVMコードは、アカウントがメッセージコールを取得した場合に実行される\r\n     - 他のアカウントのフィールドとは異なり、変更することはできない\r\n     - このようなコードフラグメントはすべて、後で検索できるように、対応するハッシュの下で状態データベースに含まれている\r\n  - EOAでは、codeHash フィールドは空文字列のハッシュ\r\n- storageRoot\r\n  - ストレージハッシュともいう\r\n  - Merkle Patricia tree のルートノードのハッシュ値\r\n  - デフォルトでは空\r\n\r\n","bodyHTML":"<p>Ethereum の アカウントという概念について，きちんと理解できていなかったので整理した．</p>\n<h2>Ethereumにおけるアカウントとは</h2>\n<blockquote>\n<p>イーサリアムアカウントは、イーサリアム上でトランザクションを送信できるイーサ（ETH）残高を持つエンティティである。アカウントは、ユーザーが管理することも、スマートコントラクトとして展開することもできる。\r\n<a href=\"https://ethereum.org/ja/developers/docs/accounts/#contract-accounts\">Ethereum accounts | ethereum.org</a></p>\n</blockquote>\n<ul>\n<li>つまり，アカウント = ETHが保管される場所\n<ul>\n<li>アカウントとアカウント残高は，EVMの大きなテーブルに格納されていて，[EVM]全体の状態の一部として管理されている</li>\n</ul>\n</li>\n</ul>\n<h2>２種類のアカウントが存在</h2>\n<ul>\n<li>\n<p>EOA（Externally Owned Account: [外部所有アカウント]）</p>\n<ul>\n<li>秘密鍵を持っている人なら誰でもコントロールが可能</li>\n</ul>\n</li>\n<li>\n<p>コントラクトアカウント（CA）</p>\n<ul>\n<li>Ethereum ネットワークに展開されたスマートコントラクトで、コードによってコントロールされる</li>\n</ul>\n</li>\n<li>\n<p>いずれのアカウントも以下の機能を備えている</p>\n<ul>\n<li>[ETH]と[トークン]の受信、保有、送信</li>\n<li>デプロイされた[スマートコントラクト]と対話する</li>\n</ul>\n</li>\n<li>\n<p>2つのアカウントの重要な違い</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>EOA</th>\n<th>コントラクトアカウント</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>作成コスト</td>\n<td>かからない</td>\n<td>かかる（ネットワークのストレージを使用するため）</td>\n</tr>\n<tr>\n<td>Txの送信</td>\n<td>起点となる</td>\n<td>Tx の受信に応答してのみ Tx を送信できる</td>\n</tr>\n<tr>\n<td>EOAからのTx</td>\n<td>EOA間はETH or トークンのみ可能</td>\n<td>EOAからのTxはトークンの転送やコントラクトの作成等,多くのアクションを実行できる</td>\n</tr>\n<tr>\n<td>対応する秘密鍵</td>\n<td>持つ</td>\n<td>持たない</td>\n</tr>\n</tbody>\n</table>\n<h2>Ethereum におけるアカウントを理解する上で、重要な３つのキーワード</h2>\n<ul>\n<li>\n<p>アカウント</p>\n<ul>\n<li>トランザクションを送り、残高があるエンティティ</li>\n</ul>\n</li>\n<li>\n<p>アドレス</p>\n<ul>\n<li>アカウント]は「0x」から始まるアドレスをもつ</li>\n<li>このアドレスを使用してアカウントに資金を送金する</li>\n</ul>\n</li>\n<li>\n<p>ウォレット</p>\n<ul>\n<li>アカウント残高の確認、トランザクションの送信等、Ethereumのアカウントを管理できるインターフェイスあるいはアプリケーション</li>\n<li>MetaMaskなど</li>\n</ul>\n</li>\n<li>\n<p>アカウントはウォレットの実態のような認識だとイメージしやすい</p>\n</li>\n</ul>\n<h2>アカウントは4つのフィールドをもつ</h2>\n<p><a href=\"https://ethereum.org/ja/developers/docs/accounts\">https://ethereum.org/ja/developers/docs/accounts</a></p>\n<ul>\n<li>nonce\n<ul>\n<li>アカウントから実行されたトランザクションの総数，カウンター</li>\n<li>トランザクションが一度だけ処理されることを保証するもの（リプレイ攻撃を防ぐ）</li>\n<li>コントラクトアカウントの場合、この数値はそのアカウントで作成されたコントラクトの数を表す</li>\n</ul>\n</li>\n<li>balance\n<ul>\n<li>所有するweiの数</li>\n<li>Wei は ETH の最小単位であり、1 ETH = 10^18 Wei</li>\n</ul>\n</li>\n<li>codeHash\n<ul>\n<li>EVMコードのハッシュ値</li>\n<li>コントラクトアカウントは、異なる操作を実行できるコードフラグメントがプログラムされている\n<ul>\n<li>このEVMコードは、アカウントがメッセージコールを取得した場合に実行される</li>\n<li>他のアカウントのフィールドとは異なり、変更することはできない</li>\n<li>このようなコードフラグメントはすべて、後で検索できるように、対応するハッシュの下で状態データベースに含まれている</li>\n</ul>\n</li>\n<li>EOAでは、codeHash フィールドは空文字列のハッシュ</li>\n</ul>\n</li>\n<li>storageRoot\n<ul>\n<li>ストレージハッシュともいう</li>\n<li>Merkle Patricia tree のルートノードのハッシュ値</li>\n<li>デフォルトでは空</li>\n</ul>\n</li>\n</ul>","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/ma96o/gialog/issues/5/comments","created_at":"2022-08-02T16:05:12Z","events_url":"https://api.github.com/repos/ma96o/gialog/issues/5/events","html_url":"https://github.com/ma96o/gialog/issues/5","id":1326072585,"labels":[],"labels_url":"https://api.github.com/repos/ma96o/gialog/issues/5/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHueoCs5PCkMJ","number":5,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/ma96o/gialog/issues/5/reactions"},"repository_url":"https://api.github.com/repos/ma96o/gialog","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/ma96o/gialog/issues/5/timeline","title":"0802 _ Ethereumのアカウントについて","updated_at":"2022-08-02T16:05:12Z","url":"https://api.github.com/repos/ma96o/gialog/issues/5","user":{"avatar_url":"https://avatars.githubusercontent.com/u/22464192?v=4","events_url":"https://api.github.com/users/ma96o/events{/privacy}","followers_url":"https://api.github.com/users/ma96o/followers","following_url":"https://api.github.com/users/ma96o/following{/other_user}","gists_url":"https://api.github.com/users/ma96o/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/ma96o","id":22464192,"login":"ma96o","node_id":"MDQ6VXNlcjIyNDY0MTky","organizations_url":"https://api.github.com/users/ma96o/orgs","received_events_url":"https://api.github.com/users/ma96o/received_events","repos_url":"https://api.github.com/users/ma96o/repos","site_admin":false,"starred_url":"https://api.github.com/users/ma96o/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ma96o/subscriptions","type":"User","url":"https://api.github.com/users/ma96o"}},"issueComments":[{"body":"このあたりの基本的な概念は，なんとなくの理解でも概ねいけちゃうのがこわい．\r\nドキュメントを読んで整理して，きちんと理解しないとなと改心した．","bodyHTML":"<p>このあたりの基本的な概念は，なんとなくの理解でも概ねいけちゃうのがこわい．\r\nドキュメントを読んで整理して，きちんと理解しないとなと改心した．</p>","author_association":"OWNER","created_at":"2022-08-02T16:06:13Z","html_url":"https://github.com/ma96o/gialog/issues/5#issuecomment-1202916526","id":1202916526,"issue_url":"https://api.github.com/repos/ma96o/gialog/issues/5","node_id":"IC_kwDOHueoCs5Hswyu","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/ma96o/gialog/issues/comments/1202916526/reactions"},"updated_at":"2022-08-02T16:06:13Z","url":"https://api.github.com/repos/ma96o/gialog/issues/comments/1202916526","user":{"avatar_url":"https://avatars.githubusercontent.com/u/22464192?v=4","events_url":"https://api.github.com/users/ma96o/events{/privacy}","followers_url":"https://api.github.com/users/ma96o/followers","following_url":"https://api.github.com/users/ma96o/following{/other_user}","gists_url":"https://api.github.com/users/ma96o/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/ma96o","id":22464192,"login":"ma96o","node_id":"MDQ6VXNlcjIyNDY0MTky","organizations_url":"https://api.github.com/users/ma96o/orgs","received_events_url":"https://api.github.com/users/ma96o/received_events","repos_url":"https://api.github.com/users/ma96o/repos","site_admin":false,"starred_url":"https://api.github.com/users/ma96o/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ma96o/subscriptions","type":"User","url":"https://api.github.com/users/ma96o"}}]},"__N_SSG":true}